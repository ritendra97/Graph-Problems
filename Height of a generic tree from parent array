//Height of a generic tree from parent array
// this is not optimized code try to optimized it
import java.util.*;
class Node
{
	int data;
	Node left;
	Node right;
	Node(int data)
	{
		this.data=data;
		this.left=null;
		this.right=null;
	}
}
public class GraphProblem 
{
	static Node root = null;
	static HashMap<Integer,Node> map = new HashMap<>();
	public static Node parentarraytree(int parentarray[])
	{
		for(int i=0;i<parentarray.length;i++)
		{
			Node new_node = new Node(i);
			map.put(i, new_node);
		}
		for(int i=0;i<parentarray.length;i++)
		{
	          if(parentarray[i]==-1)
	          {
	        	  root=map.get(i);
	          }
	          else
	          {
	        	  if(map.get(parentarray[i]).left==null)
	        		  map.get(parentarray[i]).left = map.get(i);
	        	  else
	        		  map.get(parentarray[i]).right = map.get(i);
	          }
		}
		return root;
	}
	static int binarytreeheight(Node root)
	{
		if(root==null)
			return 0;
		else
		{
			int ldepth=binarytreeheight(root.left);
			int rdepth=binarytreeheight(root.right);
			if(ldepth>rdepth)
				return ldepth+1;
			else
				return rdepth+1;
		}
	}
	public static void main(String[] args) 
	{
		int parent[] = { -1, 0, 0, 0, 3, 1, 1, 2 };
		Node root=parentarraytree(parent);
		System.out.println(binarytreeheight(root));
	}

}
